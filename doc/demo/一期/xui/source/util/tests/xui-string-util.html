<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>xui-StringUtil</title>
		<link rel="stylesheet" type="text/css" href="../../external/yui-2.6/logger/assets/skins/sam/logger.css" />
        <link rel="stylesheet" type="text/css" href="../../external/yui-2.6/fonts/fonts-min.css" />
        <link rel="stylesheet" type="text/css" href="../../external/yui-2.6/yuitest/assets/skins/sam/yuitest.css" />
        <script type="text/javascript" src="../../external/yui-2.6/yahoo-dom-event/yahoo-dom-event.js"></script>
        <script type="text/javascript" src="../../external/yui-2.6/logger/logger-min.js"></script>
        <script type="text/javascript" src="../../external/yui-2.6/yuitest/yuitest-min.js"></script>
		
		<script type="text/javascript" src="../../core/xui-core.js"></script>
		<script type="text/javascript" src="../xui-string-util.js"></script>
    </head>
    <body class="yui-skin-sam">
    <script type="text/javascript">            
            xuitest = {};
			xuitest.util = {};
			var  XS = xui.util.StringUtil ;
            xuitest.util.StringUtilTest = new YAHOO.tool.TestCase({
                //---------------------------------------------------------------------
                // setUp and tearDown methods - optional
                //---------------------------------------------------------------------
                
                /*
                 * Sets up data that is needed by each test.
                 */
                setUp: function(){
                    this.Assert = YAHOO.util.Assert;
                },
                
                /*
                 * Cleans up everything that was created by setUp().
                 */
                tearDown: function(){
					  delete this.Assert;
                },
                
                //---------------------------------------------------------------------
                // Test methods - names must begin with "test"
                //---------------------------------------------------------------------
                
                test1: function(){					
           			this.Assert.areEqual("mytest", XS.trim("    mytest   "));					
                },
				
				test2: function(){					
           			this.Assert.isTrue(XS.isEmpty(""));
                },
				
				test3: function(){		
           			this.Assert.isTrue(XS.startsWith("abcedfe","abc"));
           			this.Assert.isFalse(XS.startsWith("abcedfe","abc11"));
                },
				
				test4: function(){		
           			this.Assert.areEqual("b",XS.getChar("abcedfe",1));
                },
				
				test5: function(){		
				
           			this.Assert.areEqual("bbcedfe",XS.replaceFirstChar("abcedfe","b"));
                },
				test6: function(){		
					this.Assert.areEqual("efg",XS.getBetweenText("abcefg123","abc","123"));
                },
				test7: function(){		
					this.Assert.areEqual("abcefg",XS.getBeforeText("abcefg123","123"));
					this.Assert.areEqual("",XS.getBeforeText("abcefg123","abc"));
                },
				test8: function(){		
					this.Assert.isArray(XS.toChars("abc"));
					var ArrayAssert = YAHOO.util.ArrayAssert; 
					ArrayAssert.itemsAreEqual(["a","b","c"],XS.toChars("abc"));
                },
				test9: function(){		
					this.Assert.areEqual(0,XS.parseInt(""));
					this.Assert.areEqual(100,XS.parseInt("100abc100"));
                },
				test10: function(){		
					this.Assert.areEqual("100efg100",XS.replaceAll("100abc100","abc","efg"));
					this.Assert.areEqual("200abc200",XS.replaceAll("100abc100","100","200"));
                },
				test11: function(){		
					this.Assert.areEqual(9,XS.byteLength("100abc100"));
					this.Assert.areEqual(5,XS.byteLength("我们1"));
					this.Assert.areEqual(0,XS.byteLength(""));
                },
				test12: function(){		
					this.Assert.areEqual("10222abc100",XS.replaceCharByPostion("100abc100","222",3));
                },
				test13: function(){		
					this.Assert.areEqual("&amp;&lt;&gt;&quot;",XS.htmlEncode('&<>"'));
                },
				test14: function(){		
					this.Assert.areEqual('&<>"',XS.htmlDecode('&amp;&lt;&gt;&quot;'));
                },
                test15: function(){	
					this.Assert .areEqual("",XS.stripTags('<script>'));
                },
                test16: function(){	
					this.Assert .areEqual("&amp;&lt;&gt;",XS.escapeHTML('&<>'));
                },
                test17: function(){	
					this.Assert .areEqual('&<>"',XS.unescapeHTML('&amp;&lt;&gt;&quot;'));

                }
                
            });            
            
            xuitest.util.StringUtilSuite = new YAHOO.tool.TestSuite("StringUtil  Suite");
            xuitest.util.StringUtilSuite.add(xuitest.util.StringUtilTest);
            
            YAHOO.util.Event.onDOMReady(function(){
                //create the logger
                var logger = new YAHOO.tool.TestLogger("testLogger");
                YAHOO.tool.TestRunner.add(xuitest.util.StringUtilTest);
                
                //run the tests
                YAHOO.tool.TestRunner.run();
            });
            
        </script>
    </body>
</html>
