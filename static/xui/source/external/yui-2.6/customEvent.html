<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>simple tree</title>
<link rel="stylesheet" type="text/css" href="../../../resource/css/default/simple-tree/simple-tree.css" />
<script type="text/javascript" src="../../core/xui-core.js"></script>


</head>

<body>

<script>
// custom object
function TestObj(name) {
    this.name = name;
    // define a custom event
    this.event1 = new YAHOO.util.CustomEvent("event1", this);
}
// a custom consumer object that will listen to "event1"
function Consumer(name, testObj) {
    this.name = name;
    this.testObj = testObj;
    this.testObj.event1.subscribe(this.onEvent1, this);
}
Consumer.prototype.onEvent1 = function(type, args, me) {
    alert(" this: " + this +
          "\n this.name: " + this.name +
          "\n type: " + type +
          "\n args[0].data: " + args[0].data +
          "\n me.name: " + me.name);
}
// random test data to be used as an event argument
function TestData(data) {
    this.data = data;
}

// create an instance of our test object
var t1 = new TestObj("mytestobj1");

// create the event consumer, passing in the custom 
// object so that it can subscribe to the custom event
var c1 = new Consumer("mytestconsumer1", t1);

// create a data object that will be passed to the consumer when the event fires
var d1 = new TestData("mydata1");

// fire the test object's event1 event, passing the data object as a parameter
t1.event1.fire(d1);


var Test = function(){
}

Test.prototype = {
	_initEnvents:function() {
		this.clickEvent = new YAHOO.util.CustomEvent("click", this);
		this.expendendEvent = new YAHOO.util.CustomEvent("expendend", this);
	},
	init:function(){
		this._initEnvents();
	},
	on:function(evemtName,func){
		if(evemtName == 'click')
			this.clickEvent.subscribe(func, this);
	},
	nodeClock:function(){
		this.clickEvent.fire(500);
	},
	expend:function(){
		this.expendendEvent.fire({i:100});
	}
}

function aaa(type,args){
	alert(type)
	alert(args[0])
}
var t = new Test();
t.init();

t.on('click',aaa)
t.nodeClock();



</script>

</body>
</html>
